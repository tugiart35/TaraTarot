# i18n (UluslararasÄ±laÅŸtÄ±rma) Rehberi

Bu dokÃ¼mantasyon, projenin Ã§ok dilli (i18n) yapÄ±landÄ±rmasÄ± ve kullanÄ±mÄ± hakkÄ±nda detaylÄ± bilgi saÄŸlar.

## ğŸŒ Desteklenen Diller

- **TR (TÃ¼rkÃ§e)** - VarsayÄ±lan dil
- **EN (English)** - Ä°ngilizce
- **SR (Serbian Latin)** - SÄ±rpÃ§a (Latin alfabesi)

## ğŸ“ Proje YapÄ±sÄ±

```
src/
â”œâ”€â”€ lib/i18n/
â”‚   â”œâ”€â”€ config.ts          # i18n yapÄ±landÄ±rmasÄ±
â”‚   â”œâ”€â”€ validation.ts      # Validation mesajlarÄ±
â”‚   â””â”€â”€ paths.ts          # Path helper fonksiyonlarÄ±
â”œâ”€â”€ providers/
â”‚   â””â”€â”€ IntlProvider.tsx  # i18n provider bileÅŸeni
â”œâ”€â”€ middleware.ts         # Locale routing middleware
â””â”€â”€ app/
    â”œâ”€â”€ layout.tsx        # Ana layout
    â””â”€â”€ [locale]/         # Locale segment routing
        â”œâ”€â”€ layout.tsx    # Locale layout
        â””â”€â”€ (main)/       # Ana sayfalar

messages/
â”œâ”€â”€ tr.json              # TÃ¼rkÃ§e Ã§eviriler
â”œâ”€â”€ en.json              # Ä°ngilizce Ã§eviriler
â””â”€â”€ sr.json              # SÄ±rpÃ§a Ã§eviriler

tests/i18n/
â”œâ”€â”€ messages-parity.test.ts    # Ã‡eviri eÅŸitliÄŸi testleri
â””â”€â”€ locale-routing.spec.ts     # Routing testleri

scripts/
â””â”€â”€ check-hardcoded-ui-strings.mjs  # Hardcoded string kontrolÃ¼
```

## ğŸš€ KullanÄ±m

### Temel KullanÄ±m

```tsx
import { useTranslations } from 'next-intl';

function MyComponent() {
  const t = useTranslations('common');
  
  return (
    <div>
      <h1>{t('title')}</h1>
      <button>{t('save')}</button>
    </div>
  );
}
```

### Namespace KullanÄ±mÄ±

```tsx
import { useTranslations } from 'next-intl';

function AuthForm() {
  const t = useTranslations('auth.signIn');
  
  return (
    <form>
      <label>{t('email')}</label>
      <input type="email" />
      <label>{t('password')}</label>
      <input type="password" />
      <button>{t('signInButton')}</button>
    </form>
  );
}
```

### Server Component'lerde

```tsx
import { getTranslations } from 'next-intl/server';

async function ServerComponent() {
  const t = await getTranslations('seo');
  
  return (
    <head>
      <title>{t('title')}</title>
      <meta name="description" content={t('description')} />
    </head>
  );
}
```

## ğŸ”§ Yeni Ã‡eviri Ekleme

### 1. Dil DosyasÄ±na Ekleme

`messages/tr.json` dosyasÄ±na yeni anahtar ekleyin:

```json
{
  "common": {
    "newKey": "Yeni metin"
  }
}
```

### 2. DiÄŸer Dillere Ã‡eviri

`messages/en.json` ve `messages/sr.json` dosyalarÄ±na da aynÄ± anahtarÄ± ekleyin:

```json
// messages/en.json
{
  "common": {
    "newKey": "New text"
  }
}

// messages/sr.json
{
  "common": {
    "newKey": "Novi tekst"
  }
}
```

### 3. BileÅŸende Kullanma

```tsx
const t = useTranslations('common');
return <span>{t('newKey')}</span>;
```

## ğŸŒ Yeni Dil Ekleme

### 1. YapÄ±landÄ±rma GÃ¼ncelleme

`src/lib/i18n/config.ts` dosyasÄ±nÄ± gÃ¼ncelleyin:

```typescript
export const locales = ['tr', 'en', 'sr', 'fr'] as const;
export type Locale = (typeof locales)[number];

export const localeConfig = {
  // ... mevcut diller
  fr: {
    name: 'French',
    nativeName: 'FranÃ§ais',
    timezone: 'Europe/Paris',
  },
} as const;
```

### 2. Dil DosyasÄ± OluÅŸturma

`messages/fr.json` dosyasÄ±nÄ± oluÅŸturun ve tÃ¼m anahtarlarÄ± Ã§evirin.

### 3. Test GÃ¼ncelleme

`tests/i18n/messages-parity.test.ts` dosyasÄ±nda yeni dili ekleyin.

## ğŸ› ï¸ Validation MesajlarÄ±

### Zod ile Entegrasyon

```typescript
import { z } from 'zod';
import { getValidationMessages } from '@/lib/i18n/validation';

const schema = z.object({
  email: z.string().email(),
  password: z.string().min(8),
});

// Server-side validation
const messages = await getValidationMessages(locale);
const result = schema.safeParse(data);

if (!result.success) {
  // Hata mesajlarÄ±nÄ± Ã§evir
  const errors = result.error.errors.map(error => ({
    field: error.path.join('.'),
    message: messages[error.code] || error.message,
  }));
}
```

## ğŸ§ª Test Etme

### Unit Testler

```bash
npm test tests/i18n/
```

### Hardcoded String KontrolÃ¼

```bash
node scripts/check-hardcoded-ui-strings.mjs
```

### E2E Testler

```bash
npm run test:e2e
```

## ğŸ” Troubleshooting

### YaygÄ±n Sorunlar

1. **Ã‡eviri bulunamadÄ± hatasÄ±**
   - AnahtarÄ±n tÃ¼m dil dosyalarÄ±nda mevcut olduÄŸundan emin olun
   - Namespace'in doÄŸru olduÄŸunu kontrol edin

2. **Locale routing Ã§alÄ±ÅŸmÄ±yor**
   - Middleware'in doÄŸru yapÄ±landÄ±rÄ±ldÄ±ÄŸÄ±nÄ± kontrol edin
   - `next.config.js` dosyasÄ±nda next-intl plugin'inin aktif olduÄŸundan emin olun

3. **Server component'lerde Ã§eviri Ã§alÄ±ÅŸmÄ±yor**
   - `getTranslations` kullanÄ±n, `useTranslations` deÄŸil
   - Async/await kullanÄ±n

### Debug Modu

```typescript
// Development modunda Ã§eviri anahtarlarÄ±nÄ± gÃ¶ster
const t = useTranslations('common');
console.log('Translation key:', t.raw('save'));
```

## ğŸ“‹ Best Practices

### 1. Anahtar AdlandÄ±rma

```json
{
  "auth": {
    "signIn": {
      "title": "GiriÅŸ Yap",
      "email": "E-posta",
      "password": "Åifre"
    }
  }
}
```

### 2. Namespace Organizasyonu

- `common`: Genel kullanÄ±m
- `nav`: Navigasyon
- `auth`: Kimlik doÄŸrulama
- `validation`: Form validasyonu
- `tarot`: Tarot Ã¶zel iÃ§erik
- `errors`: Hata mesajlarÄ±

### 3. Ã‡eviri Kalitesi

- KÄ±sa ve net ifadeler kullanÄ±n
- KÃ¼ltÃ¼rel baÄŸlamÄ± gÃ¶z Ã¶nÃ¼nde bulundurun
- Teknik terimleri tutarlÄ± kullanÄ±n

### 4. Performance

- Sadece gerekli namespace'leri yÃ¼kleyin
- Lazy loading kullanÄ±n
- Cache stratejilerini uygulayÄ±n

## ğŸ”„ CI/CD Entegrasyonu

### GitHub Actions

```yaml
- name: Check hardcoded strings
  run: node scripts/check-hardcoded-ui-strings.mjs

- name: Run i18n tests
  run: npm test tests/i18n/
```

### Pre-commit Hook

```json
{
  "husky": {
    "hooks": {
      "pre-commit": "node scripts/check-hardcoded-ui-strings.mjs"
    }
  }
}
```

## ğŸ“š Kaynaklar

- [next-intl DokÃ¼mantasyonu](https://next-intl-docs.vercel.app/)
- [React i18n Best Practices](https://react.i18next.com/)
- [Unicode CLDR](https://cldr.unicode.org/)

## ğŸ¤ KatkÄ±da Bulunma

1. Yeni Ã§eviri eklerken tÃ¼m dilleri gÃ¼ncelleyin
2. Test dosyalarÄ±nÄ± Ã§alÄ±ÅŸtÄ±rÄ±n
3. Hardcoded string kontrolÃ¼nÃ¼ yapÄ±n
4. DokÃ¼mantasyonu gÃ¼ncelleyin

---

**Not**: Bu rehber projenin i18n ihtiyaÃ§larÄ±na gÃ¶re sÃ¼rekli gÃ¼ncellenmektedir. SorularÄ±nÄ±z iÃ§in lÃ¼tfen proje ekibi ile iletiÅŸime geÃ§in.